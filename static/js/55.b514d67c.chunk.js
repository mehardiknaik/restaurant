"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[55],{9055:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(2791),i=t(797),a=t(6598),s=t(4165),o=t(5861),c=t(4942),l=t(1413),d=t(9439),u=t(8870),m=t(7621),h=t(9504),x=t(8096),f=t(4925),p=t(292),Z=t(3466),j=t(3265),g=t(5022),v=t(890),y=t(3767),C=t(9860),b=t(3329),k=t(600),w=t(9823),P=t(5745),F=t(4216),W=t(2200),A=t(4453),S=t(2582),I=t(7482),D=t(9276),R=t(184),L=function(e){return(0,R.jsxs)(D.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(D.Z,{sx:{width:"100%"},children:(0,R.jsx)(I.Z,(0,l.Z)({sx:{height:10,borderRadius:5,"&.MuiLinearProgress-determinate":{backgroundColor:"#e6e6e6"}},variant:"determinate"},e))}),(0,R.jsx)(D.Z,{sx:{minWidth:35},children:(0,R.jsx)(v.Z,{variant:"body2",align:"right",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})},O=t(9062),U=t(5985),H=t(9568),_=t(8690),z=t(7984),B={my:1.6},E={maxWidthOrHeight:500},J=function(e){var n=(0,r.useState)((null===e||void 0===e?void 0:e.values)||{title:"",category:"",price:"",calories:"",description:""}),t=(0,d.Z)(n,2),i=t[0],a=t[1],I=(0,r.useRef)(null),D=(0,r.useState)(""),J=(0,d.Z)(D,2),M=J[0],q=J[1],G=(0,r.useState)(null),K=(0,d.Z)(G,2),T=K[0],N=K[1],Q=(0,r.useState)(!1),V=(0,d.Z)(Q,2),X=V[0],Y=V[1],$=(0,r.useState)(0),ee=(0,d.Z)($,2),ne=ee[0],te=ee[1],re=function(e){e.preventDefault();var n=e.target,t=n.name,r=n.value;a((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,c.Z)({},t,r))}))},ie=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.files||!n.target.files[0]){e.next=7;break}return t=n.target.files[0],e.next=4,(0,z.Z)(t,E);case 4:r=e.sent,N(r),q(URL.createObjectURL(r));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(){a({title:"",category:"",price:"",calories:"",description:""}),te(0),se()},se=function(){q(""),N(null),I.current.value=""};return(0,R.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:(0,R.jsxs)(m.Z,{variant:"outlined",sx:{maxWidth:500,width:"100%",pointerEvents:X?"none":"unset"},children:[(0,R.jsxs)(h.Z,{children:[(0,R.jsxs)(x.Z,{variant:"standard",fullWidth:!0,sx:B,children:[(0,R.jsx)(f.Z,{htmlFor:"input-with-icon-adornment",children:"Give me a title..."}),(0,R.jsx)(p.Z,{id:"input-with-icon-adornment",value:i.title,startAdornment:(0,R.jsx)(Z.Z,{position:"start",children:(0,R.jsx)(P.Z,{})}),onChange:re,name:"title"})]}),(0,R.jsxs)(x.Z,{variant:"standard",fullWidth:!0,sx:B,children:[(0,R.jsx)(f.Z,{htmlFor:"demo-simple-select-standard",children:"Category"}),(0,R.jsx)(j.Z,{id:"demo-simple-select-standard",value:i.category,onChange:re,label:"Select category",name:"category",startAdornment:(0,R.jsx)(Z.Z,{position:"start",children:(0,R.jsx)(F.Z,{})}),children:W.W.map((function(e){return(0,R.jsx)(g.Z,{value:e.urlParamname,children:e.name},e.id)}))})]}),(0,R.jsx)(m.Z,{variant:"outlined",sx:{width:"100%",height:150,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",flexDirection:"column"},onClick:function(){return!M&&I.current&&I.current.click()},children:M?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(w.Z,{sx:{cursor:"pointer",position:"absolute",top:0,right:0},onClick:se}),(0,R.jsx)("img",{src:M,alt:"dfvs",height:"100%"})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(k.Z,{sx:{fontSize:40}}),(0,R.jsx)(v.Z,{variant:"h6",component:"div",children:"Select Image"})]})}),(0,R.jsxs)(y.Z,{direction:"row",spacing:2,sx:B,children:[(0,R.jsxs)(x.Z,{fullWidth:!0,variant:"standard",children:[(0,R.jsx)(f.Z,{htmlFor:"standard-adornment-calories",children:"Calories"}),(0,R.jsx)(p.Z,{id:"standard-adornment-calories",value:i.calories,onChange:re,startAdornment:(0,R.jsx)(Z.Z,{position:"start",children:(0,R.jsx)(_.Z,{})}),name:"calories",type:"number",inputProps:{min:"1"}})]}),(0,R.jsxs)(x.Z,{fullWidth:!0,variant:"standard",children:[(0,R.jsx)(f.Z,{htmlFor:"standard-adornment-price",children:"Price"}),(0,R.jsx)(p.Z,{id:"standard-adornment-price",value:i.price,onChange:re,startAdornment:(0,R.jsx)(Z.Z,{position:"start",children:"\u20b9"}),name:"price",type:"number",inputProps:{min:"1"}})]})]}),(0,R.jsxs)(x.Z,{fullWidth:!0,variant:"standard",children:[(0,R.jsx)(f.Z,{htmlFor:"standard-adornment-description",children:"Description (optional)"}),(0,R.jsx)(p.Z,{id:"standard-adornment-description",value:i.description,onChange:re,startAdornment:(0,R.jsx)(Z.Z,{position:"start",children:(0,R.jsx)(H.Z,{})}),name:"description",multiline:!0,rows:2})]}),(0,R.jsx)(C.Z,{loading:X,loadingPosition:"start",startIcon:(0,R.jsx)(b.Z,{}),variant:"outlined",fullWidth:!0,sx:B,onClick:function(e){Y(!0),e.preventDefault();var n=Date.now(),t=(0,A.iH)(S.tO,"Images/".concat(n,"-").concat(T.name)),r=(0,A.B0)(t,T);r.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;te(n)}),(function(e){console.log("error on upload",e.message),U.Am.error(e.message),Y(!1)}),(function(){(0,A.Jt)(r.snapshot.ref).then((function(e){var t=(0,l.Z)((0,l.Z)({},i),{},{imageURL:e,qty:1,id:"".concat(n)});(0,O.pl)((0,O.JU)(S.RZ,"foodItems","".concat(n)),t,{merge:!0}).then((function(){U.Am.success("Data added successfully"),ae()})).catch((function(e){console.log("error on Add",e),U.Am.error(e.message)})).finally((function(){Y(!1)}))}))}))},disabled:!M||Object.entries(i).some((function(e){return"description"!==e[0]&&(null===e[1]||""===e[1])})),children:"Save"}),X&&(0,R.jsx)(L,{value:ne})]}),(0,R.jsx)("input",{ref:I,style:{height:0,width:0,display:"none"},type:"file",id:"img",name:"img",accept:"image/*",onChange:ie})]})})},M=function(){return(0,r.useEffect)((function(){var e=(0,i.IH)();(0,i.Kz)(e,"screen_view",{firebase_screen:"Admin"})}),[]),(0,R.jsx)(a.Z,{children:(0,R.jsx)(J,{})})}},2200:function(e,n,t){t.d(n,{W:function(){return r}});var r=[{id:1,name:"Chicken",urlParamname:"chicken"},{id:2,name:"Curry",urlParamname:"curry"},{id:3,name:"Rice",urlParamname:"rice"},{id:4,name:"Fish",urlParamname:"fish"},{id:5,name:"Fruits",urlParamname:"fruits"},{id:6,name:"Icecream",urlParamname:"icecream"},{id:7,name:"Soft Drinks",urlParamname:"drinks"},{id:8,name:"Fast Food",urlParamname:"fastfood"}]}}]);
//# sourceMappingURL=55.b514d67c.chunk.js.map